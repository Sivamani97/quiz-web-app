<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Quiz App</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --background-color: #f0f2f5;
            --card-background: #ffffff;
            --text-color: #333333;
            --light-text-color: #666666;
            --correct-answer: #4CAF50;
            --incorrect-answer: #F44336;
            --timer-color: #f39c12;
            --low-time-color: #e74c3c;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--text-color);
        }

        .app-container {
            width: 90%;
            max-width: 600px;
            background-color: var(--background-color);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .screen {
            display: none;
            animation: fade-in 0.5s ease-in-out forwards;
        }

        .screen.active {
            display: block;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
body {
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none;   /* Safari */
    -khtml-user-select: none;    /* Konqueror HTML */
    -moz-user-select: none;      /* Old versions of Firefox */
    -ms-user-select: none;       /* Internet Explorer/Edge */
    user-select: none;           /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}
        /* Welcome Screen */
        #start-screen h1 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        #start-screen p {
            color: var(--light-text-color);
            margin-bottom: 20px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: var(--secondary-color);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* Quiz Screen */
        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
            height: 10px;
        }

        .progress-bar {
            height: 100%;
            width: 100%;
            background: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            border-radius: 10px;
            transition: width 0.1s linear;
        }

        .progress-bar.low-time {
            background: var(--low-time-color); /* New style for low time */
        }

        .card {
            background-color: var(--card-background);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        #question-text {
            font-size: 1.5rem;
            margin-bottom: 20px;
            line-height: 1.4;
            color: var(--text-color);
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background-color: var(--background-color);
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
            font-weight: 500;
        }

        .option:hover {
            background-color: #e8e8e8;
            transform: translateY(-2px);
        }

        .option.correct {
            background-color: var(--correct-answer);
            color: #ffffff;
            border: 2px solid var(--correct-answer);
        }

        .option.incorrect {
            background-color: var(--incorrect-answer);
            color: #ffffff;
            border: 2px solid var(--incorrect-answer);
        }

        .option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .quiz-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        #timer-display {
            font-weight: 600;
            color: var(--timer-color);
            transition: color 0.3s ease; /* Smooth transition for color change */
        }

        #timer-display.low-time {
            color: var(--low-time-color);
        }

        .next-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Score Screen */
        #score-screen h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        #final-score-text {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--text-color);
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div id="start-screen" class="screen active">
            <h1>Welcome to the Quiz!</h1>
            <p>Test your knowledge with these awesome questions.</p>
            <button id="start-btn">Start Quiz</button>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <div id="question-card" class="card">
                <h2 id="question-text">Question goes here...</h2>
                <div id="options-container" class="options-container">
                    </div>
            </div>
            <div class="quiz-footer">
                <div id="timer-display">Time: <span id="timer-value">15s</span></div>
                <button id="next-btn" class="next-btn" disabled>Next</button>
            </div>
        </div>

        <div id="score-screen" class="screen">
            <h2>Quiz Complete!</h2>
            <div id="final-score-text">Your score: <span id="final-score">0</span> out of <span id="total-questions">0</span></div>
            <button id="restart-btn">Restart Quiz</button>
        </div>
    </div>

    <script>
        // A large pool of 100 questions to draw from.
        const allQuestions = [
            { question: "What is the capital of France?", options: ["Berlin", "Madrid", "Paris", "Rome"], correctAnswer: "Paris" },
            { question: "Which planet is known as the Red Planet?", options: ["Mars", "Jupiter", "Venus", "Saturn"], correctAnswer: "Mars" },
            { question: "What is the largest ocean on Earth?", options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"], correctAnswer: "Pacific Ocean" },
            { question: "Who wrote 'To Kill a Mockingbird'?", options: ["Harper Lee", "Mark Twain", "Ernest Hemingway", "F. Scott Fitzgerald"], correctAnswer: "Harper Lee" },
            { question: "What is the chemical symbol for gold?", options: ["Au", "Ag", "Fe", "Pb"], correctAnswer: "Au" },
            { question: "What is the capital of Japan?", options: ["Beijing", "Seoul", "Tokyo", "Bangkok"], correctAnswer: "Tokyo" },
            { question: "What is the main component of the sun?", options: ["Liquid iron", "Molten rock", "Hydrogen", "Oxygen"], correctAnswer: "Hydrogen" },
            { question: "What is the smallest country in the world?", options: ["Monaco", "Nauru", "Vatican City", "San Marino"], correctAnswer: "Vatican City" },
            { question: "What is the longest river in the world?", options: ["Nile", "Amazon", "Yangtze", "Mississippi"], correctAnswer: "Amazon" },
            { question: "What is the powerhouse of the cell?", options: ["Nucleus", "Ribosome", "Mitochondria", "Cytoplasm"], correctAnswer: "Mitochondria" },
            { question: "What is the capital of Italy?", options: ["Venice", "Milan", "Naples", "Rome"], correctAnswer: "Rome" },
            { question: "What is the largest living species of lizard?", options: ["Komodo Dragon", "Gila Monster", "Green Anole", "Bearded Dragon"], correctAnswer: "Komodo Dragon" },
            { question: "What is the hardest natural substance on Earth?", options: ["Gold", "Iron", "Diamond", "Quartz"], correctAnswer: "Diamond" },
            { question: "Who painted the Mona Lisa?", options: ["Vincent van Gogh", "Leonardo da Vinci", "Pablo Picasso", "Claude Monet"], correctAnswer: "Leonardo da Vinci" },
            { question: "What is the largest continent by area?", options: ["Africa", "North America", "Asia", "Europe"], correctAnswer: "Asia" },
            { question: "What is the boiling point of water in Celsius?", options: ["0", "50", "100", "212"], correctAnswer: "100" },
            { question: "How many bones are in the adult human body?", options: ["206", "212", "201", "209"], correctAnswer: "206" },
            { question: "Which famous scientist developed the theory of relativity?", options: ["Isaac Newton", "Galileo Galilei", "Albert Einstein", "Stephen Hawking"], correctAnswer: "Albert Einstein" },
            { question: "What is the national animal of Australia?", options: ["Kangaroo", "Koala", "Emu", "Wombat"], correctAnswer: "Kangaroo" },
            { question: "What is the name of the largest moon of Saturn?", options: ["Europa", "Titan", "Ganymede", "Triton"], correctAnswer: "Titan" },
            { question: "What is the capital of Canada?", options: ["Toronto", "Vancouver", "Montreal", "Ottawa"], correctAnswer: "Ottawa" },
            { question: "Which country is known as the Land of the Rising Sun?", options: ["China", "Thailand", "Japan", "South Korea"], correctAnswer: "Japan" },
            { question: "What is the smallest planet in our solar system?", options: ["Mars", "Earth", "Pluto", "Mercury"], correctAnswer: "Mercury" },
            { question: "What is the currency of Mexico?", options: ["Peso", "Euro", "Dollar", "Yen"], correctAnswer: "Peso" },
            { question: "What is the largest desert in the world?", options: ["Gobi", "Sahara", "Arabian", "Antarctic"], correctAnswer: "Antarctic" },
            { question: "Which is the tallest mountain in the world?", options: ["K2", "Mount Everest", "Mount Kilimanjaro", "Mount Denali"], correctAnswer: "Mount Everest" },
            { question: "In which year did the Titanic sink?", options: ["1910", "1912", "1914", "1916"], correctAnswer: "1912" },
            { question: "Who was the first man on the moon?", options: ["Yuri Gagarin", "Buzz Aldrin", "Neil Armstrong", "Michael Collins"], correctAnswer: "Neil Armstrong" },
            { question: "What is the chemical symbol for Oxygen?", options: ["O", "Ox", "Oy", "Om"], correctAnswer: "O" },
            { question: "What is the capital of Australia?", options: ["Sydney", "Melbourne", "Canberra", "Perth"], correctAnswer: "Canberra" },
            { question: "How many players are on a soccer team?", options: ["9", "10", "11", "12"], correctAnswer: "11" },
            { question: "What is the capital of Brazil?", options: ["Rio de Janeiro", "São Paulo", "Brasília", "Buenos Aires"], correctAnswer: "Brasília" },
            { question: "What is the longest river in Asia?", options: ["Ganges", "Yellow River", "Mekong", "Yangtze"], correctAnswer: "Yangtze" },
            { question: "What is the largest country by area?", options: ["China", "USA", "Canada", "Russia"], correctAnswer: "Russia" },
            { question: "What is the main language spoken in Brazil?", options: ["Spanish", "Portuguese", "French", "English"], correctAnswer: "Portuguese" },
            { question: "Which is the largest organ in the human body?", options: ["Heart", "Liver", "Brain", "Skin"], correctAnswer: "Skin" },
            { question: "What is the national sport of Japan?", options: ["Karate", "Judo", "Sumo wrestling", "Kendo"], correctAnswer: "Sumo wrestling" },
            { question: "How many states are there in the USA?", options: ["48", "50", "52", "54"], correctAnswer: "50" },
            { question: "What is the name of the galaxy our solar system is in?", options: ["Andromeda", "Triangulum", "Messier 87", "Milky Way"], correctAnswer: "Milky Way" },
            { question: "Which ocean is the Bermuda Triangle located in?", options: ["Pacific", "Indian", "Atlantic", "Arctic"], correctAnswer: "Atlantic" },
            { question: "What is the capital of Egypt?", options: ["Alexandria", "Luxor", "Cairo", "Giza"], correctAnswer: "Cairo" },
            { question: "Who was the first woman to win a Nobel Prize?", options: ["Marie Curie", "Mother Teresa", "Rosa Parks", "Jane Goodall"], correctAnswer: "Marie Curie" },
            { question: "How many continents are there?", options: ["5", "6", "7", "8"], correctAnswer: "7" },
            { question: "What is the largest animal on Earth?", options: ["Elephant", "Blue Whale", "Great White Shark", "Giraffe"], correctAnswer: "Blue Whale" },
            { question: "What is the capital of China?", options: ["Shanghai", "Beijing", "Hong Kong", "Guangzhou"], correctAnswer: "Beijing" },
            { question: "What is the currency of the United Kingdom?", options: ["Euro", "Dollar", "Pound Sterling", "Yen"], correctAnswer: "Pound Sterling" },
            { question: "What is the largest planet in our solar system?", options: ["Saturn", "Jupiter", "Uranus", "Neptune"], correctAnswer: "Jupiter" },
            { question: "Who painted 'The Starry Night'?", options: ["Pablo Picasso", "Claude Monet", "Vincent van Gogh", "Salvador Dalí"], correctAnswer: "Vincent van Gogh" },
            { question: "What is the capital of Germany?", options: ["Munich", "Berlin", "Frankfurt", "Hamburg"], correctAnswer: "Berlin" },
            { question: "How many bones are in the human skull?", options: ["18", "20", "22", "24"], correctAnswer: "22" },
            { question: "What is the name of the Roman god of war?", options: ["Jupiter", "Neptune", "Mars", "Pluto"], correctAnswer: "Mars" },
            { question: "What is the largest island in the world?", options: ["Australia", "Greenland", "New Guinea", "Borneo"], correctAnswer: "Greenland" },
            { question: "What is the chemical symbol for water?", options: ["Wa", "Wt", "H2O", "O2"], correctAnswer: "H2O" },
            { question: "Which country is the Great Wall in?", options: ["India", "Japan", "China", "Russia"], correctAnswer: "China" },
            { question: "What is the name of the largest species of shark?", options: ["Great White", "Tiger Shark", "Whale Shark", "Hammerhead"], correctAnswer: "Whale Shark" },
            { question: "Which famous landmark is in Pisa, Italy?", options: ["Colosseum", "Leaning Tower of Pisa", "Eiffel Tower", "Statue of Liberty"], correctAnswer: "Leaning Tower of Pisa" },
            { question: "What is the fastest land animal?", options: ["Lion", "Cheetah", "Gazelle", "Leopard"], correctAnswer: "Cheetah" },
            { question: "What is the capital of Spain?", options: ["Barcelona", "Madrid", "Lisbon", "Seville"], correctAnswer: "Madrid" },
            { question: "What is the name of the longest snake?", options: ["Anaconda", "Python", "King Cobra", "Reticulated Python"], correctAnswer: "Reticulated Python" },
            { question: "What is the capital of Russia?", options: ["Saint Petersburg", "Kiev", "Moscow", "Volgograd"], correctAnswer: "Moscow" },
            { question: "What is the main ingredient in guacamole?", options: ["Tomato", "Onion", "Avocado", "Lime"], correctAnswer: "Avocado" },
            { question: "Which mountain range is the longest in the world?", options: ["Himalayas", "Andes", "Rockies", "Alps"], correctAnswer: "Andes" },
            { question: "What is the name of the pharaoh who built the Great Pyramid of Giza?", options: ["Tutankhamun", "Ramses II", "Khufu", "Akhenaten"], correctAnswer: "Khufu" },
            { question: "What is the largest country in South America?", options: ["Argentina", "Colombia", "Brazil", "Peru"], correctAnswer: "Brazil" },
            { question: "How many days are in a leap year?", options: ["365", "366", "364", "367"], correctAnswer: "366" },
            { question: "What is the currency of India?", options: ["Yuan", "Rupee", "Baht", "Riyal"], correctAnswer: "Rupee" },
            { question: "What is the capital of South Africa?", options: ["Pretoria", "Cape Town", "Bloemfontein", "All of the above"], correctAnswer: "All of the above" },
            { question: "What is the largest type of big cat?", options: ["Lion", "Tiger", "Jaguar", "Leopard"], correctAnswer: "Tiger" },
            { question: "What is the world's most populous country?", options: ["India", "USA", "China", "Brazil"], correctAnswer: "India" },
            { question: "Which famous scientist developed the law of gravity?", options: ["Galileo Galilei", "Isaac Newton", "Johannes Kepler", "Nikola Tesla"], correctAnswer: "Isaac Newton" },
            { question: "What is the capital of New Zealand?", options: ["Auckland", "Christchurch", "Wellington", "Queenstown"], correctAnswer: "Wellington" },
            { question: "What is the chemical symbol for sodium?", options: ["S", "So", "Na", "Sn"], correctAnswer: "Na" },
            { question: "How many planets are in our solar system?", options: ["7", "8", "9", "10"], correctAnswer: "8" },
            { question: "What is the capital of Mexico?", options: ["Cancún", "Guadalajara", "Mexico City", "Puebla"], correctAnswer: "Mexico City" },
            { question: "What is the most widely spoken language in the world?", options: ["English", "Spanish", "Mandarin Chinese", "Hindi"], correctAnswer: "Mandarin Chinese" },
            { question: "What is the primary gas found in the Earth's atmosphere?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Argon"], correctAnswer: "Nitrogen" },
            { question: "What is the fastest bird in the world?", options: ["Peregrine Falcon", "Eagle", "Ostrich", "Hummingbird"], correctAnswer: "Peregrine Falcon" },
            { question: "What is the capital of Portugal?", options: ["Porto", "Lisbon", "Faro", "Coimbra"], correctAnswer: "Lisbon" },
            { question: "Which is the largest waterfall in the world?", options: ["Victoria Falls", "Niagara Falls", "Angel Falls", "Iguazu Falls"], correctAnswer: "Angel Falls" },
            { question: "What is the largest active volcano in Europe?", options: ["Mount Vesuvius", "Mount Etna", "Mount Fuji", "Krakatoa"], correctAnswer: "Mount Etna" },
            { question: "What is the largest living species of snake?", options: ["Anaconda", "Burmese Python", "Reticulated Python", "King Cobra"], correctAnswer: "Green Anaconda" },
            { question: "What is the name of the fictional wizarding school in Harry Potter?", options: ["Beauxbatons", "Durmstrang", "Hogwarts", "Ilvermorny"], correctAnswer: "Hogwarts" },
            { question: "What is the chemical symbol for silver?", options: ["Si", "Ag", "Au", "Sl"], correctAnswer: "Ag" },
            { question: "What is the capital of Argentina?", options: ["Buenos Aires", "Cordoba", "Rosario", "Mendoza"], correctAnswer: "Buenos Aires" },
            { question: "Which of these is not a primary color?", options: ["Red", "Yellow", "Blue", "Green"], correctAnswer: "Green" },
            { question: "What is the largest lake in Africa?", options: ["Lake Tanganyika", "Lake Malawi", "Lake Victoria", "Lake Turkana"], correctAnswer: "Lake Victoria" },
            { question: "How many legs does a spider have?", options: ["6", "8", "10", "12"], correctAnswer: "8" },
            { question: "What is the main language spoken in Portugal?", options: ["Spanish", "French", "Portuguese", "Italian"], correctAnswer: "Portuguese" },
            { question: "What is the capital of Ireland?", options: ["Cork", "Galway", "Dublin", "Belfast"], correctAnswer: "Dublin" },
            { question: "Which of these animals is a mammal?", options: ["Shark", "Salmon", "Dolphin", "Penguin"], correctAnswer: "Dolphin" },
            { question: "What is the smallest bird in the world?", options: ["Wren", "Sparrow", "Hummingbird", "Finch"], correctAnswer: "Hummingbird" },
            { question: "What is the capital of Greece?", options: ["Thessaloniki", "Athens", "Rhodes", "Crete"], correctAnswer: "Athens" },
            { question: "What is the longest bone in the human body?", options: ["Tibia", "Fibula", "Femur", "Humerus"], correctAnswer: "Femur" },
            { question: "What is the capital of Finland?", options: ["Oslo", "Stockholm", "Copenhagen", "Helsinki"], correctAnswer: "Helsinki" },
            { question: "Which city is known as the 'City of Love'?", options: ["London", "Paris", "Rome", "Venice"], correctAnswer: "Paris" },
            { question: "What is the national animal of India?", options: ["Tiger", "Lion", "Elephant", "Leopard"], correctAnswer: "Tiger" },
            { question: "What is the capital of Turkey?", options: ["Istanbul", "Ankara", "Izmir", "Antalya"], correctAnswer: "Ankara" },
            { question: "What is the name of the famous clock tower in London?", options: ["Big Ben", "Little Ben", "Westminster", "Elizabeth Tower"], correctAnswer: "Big Ben" },
            { question: "Which is the largest species of penguin?", options: ["Emperor Penguin", "King Penguin", "Adélie Penguin", "Rockhopper Penguin"], correctAnswer: "Emperor Penguin" },
            { question: "What is the capital of Kenya?", options: ["Mombasa", "Nairobi", "Kisumu", "Eldoret"], correctAnswer: "Nairobi" },
            { question: "What is the highest mountain in Africa?", options: ["Mount Everest", "Mount Kilimanjaro", "Mount Denali", "Mount Elbrus"], correctAnswer: "Mount Kilimanjaro" },
            { question: "What is the chemical symbol for iron?", options: ["I", "In", "Fe", "Ir"], correctAnswer: "Fe" },
            { question: "What is the largest organ in the human body?", options: ["Heart", "Liver", "Brain", "Skin"], correctAnswer: "Skin" },
            { question: "What is the name of the deepest point in the world's oceans?", options: ["Challenger Deep", "Mariana Trench", "Puerto Rico Trench", "Java Trench"], correctAnswer: "Challenger Deep" }
        ];

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const scoreScreen = document.getElementById('score-screen');
        const startBtn = document.getElementById('start-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const timerDisplay = document.getElementById('timer-display');
        const timerValue = document.getElementById('timer-value');
        const progressBar = document.getElementById('progress-bar');
        const finalScore = document.getElementById('final-score');
        const totalQuestionsDisplay = document.getElementById('total-questions');
        const restartBtn = document.getElementById('restart-btn');

        // State variables
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        const timePerQuestion = 15; // seconds

        // --- Helper Functions ---

        // Fisher-Yates shuffle algorithm for questions and options
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- Main Quiz Logic ---

        function startQuiz() {
            // 1. Shuffle the entire question pool
            shuffleArray(allQuestions);
            // 2. Take the first 10 questions for the current quiz
            currentQuestions = allQuestions.slice(0, 10);
            
            currentQuestionIndex = 0;
            score = 0;

            // Show the quiz screen and hide others
            startScreen.classList.remove('active');
            scoreScreen.classList.remove('active');
            quizScreen.classList.add('active');

            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                showScoreScreen();
                return;
            }

            const currentQuestion = currentQuestions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            optionsContainer.innerHTML = ''; // Clear previous options

            // Shuffle options
            const shuffledOptions = [...currentQuestion.options];
            shuffleArray(shuffledOptions);

            shuffledOptions.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => handleOptionClick(optionElement, option));
                optionsContainer.appendChild(optionElement);
            });

            nextBtn.disabled = true;
            startTimer();
        }

        function handleOptionClick(selectedElement, selectedAnswer) {
            clearInterval(timer); // Stop the timer
            
            const currentQuestion = currentQuestions[currentQuestionIndex];
            const correctAnswer = currentQuestion.correctAnswer;
            
            // Disable all options after one is selected
            Array.from(optionsContainer.children).forEach(option => {
                option.classList.add('disabled');
                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                } else {
                    option.classList.add('incorrect');
                }
            });

            if (selectedAnswer === correctAnswer) {
                score++;
            } else if (selectedElement) {
                // If a user clicked an option, highlight it as incorrect.
                selectedElement.classList.add('incorrect');
            }
            
            nextBtn.disabled = false;
        }

        function startTimer() {
            let timeLeft = timePerQuestion;
            timerValue.textContent = `${timeLeft}s`;
            
            // Reset the low-time color for the new question
            timerDisplay.classList.remove('low-time');
            progressBar.classList.remove('low-time');
            
            // Force the progress bar to instantly reset to 100%
            progressBar.style.transition = 'none';
            progressBar.style.width = '100%';
            progressBar.offsetWidth; 
            
            // Set the new transition duration and start the countdown
            progressBar.style.transition = `width ${timeLeft}s linear`;
            progressBar.style.width = '0%';
            
            timer = setInterval(() => {
                timeLeft--;
                timerValue.textContent = `${timeLeft}s`;

                // Add the low-time color when 5 seconds remain
                if (timeLeft <= 5) {
                    timerDisplay.classList.add('low-time');
                    progressBar.classList.add('low-time');
                }

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Automatically move on if time runs out
                    handleOptionClick(null, null); 
                }
            }, 1000);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        function showScoreScreen() {
            quizScreen.classList.remove('active');
            scoreScreen.classList.add('active');
            finalScore.textContent = score;
            totalQuestionsDisplay.textContent = currentQuestions.length;
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', startQuiz);
    </script>
</body>

</html>
